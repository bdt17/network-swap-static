<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Thomas IT Network Swap</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
  </body>
</html>
<script>
  async function loadDevices() {
    try {
      const res = await fetch("https://network-swap-app.onrender.com/api/devices");
      const devices = await res.json();
      document.getElementById("network-map").innerHTML = 
        devices.map(d => `<div class="device ${d.status}">${d.name} (${d.site})</div>`).join("");
    } catch(e) { console.error("API fetch failed:", e); }
  }
  window.onload = loadDevices;
</script>
